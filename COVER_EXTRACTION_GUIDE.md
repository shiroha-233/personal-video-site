# 视频封面自动提取功能使用说明

## 功能概述

现在可以在管理后台添加视频时，自动从视频URL提取封面图片，无需手动查找和输入封面地址。

## 支持的平台

✅ **Bilibili (哔哩哔哩)**
- 支持 bilibili.com 和 b23.tv 短链接
- 支持 BV 号和 AV 号格式

✅ **YouTube**  
- 支持 youtube.com 和 youtu.be 短链接
- 自动获取高清缩略图

✅ **腾讯视频**
- 支持 v.qq.com 链接
- 提取标准封面格式

🚧 **爱奇艺** (部分支持)
- 支持 iqiyi.com 链接
- 功能仍在完善中

## 使用方法

1. **进入管理后台**
   - 访问 `/admin` 页面
   - 点击"添加视频"或编辑现有视频

2. **输入视频链接**
   - 在"视频链接"字段中粘贴视频URL
   - 支持完整链接或短链接

3. **自动提取封面**
   - 点击"提取封面"按钮
   - 系统会自动识别平台并提取封面
   - 成功后封面URL会自动填入，并显示预览图

4. **保存视频**
   - 确认封面正确后，填写其他信息
   - 点击"保存视频"完成添加

## 示例链接

### Bilibili 示例
```
https://www.bilibili.com/video/BV1xx411c7mu
https://b23.tv/abc123
https://www.bilibili.com/video/av123456
```

### YouTube 示例  
```
https://www.youtube.com/watch?v=dQw4w9WgXcQ
https://youtu.be/dQw4w9WgXcQ
```

### 腾讯视频示例
```
https://v.qq.com/x/page/abc123.html
```

## 技术特点

- **跨域安全**: 后端API代理请求，避免CORS问题
- **平台自适应**: 自动识别视频平台并使用对应提取逻辑  
- **错误处理**: 提取失败时提供明确错误信息
- **图片预览**: 提取成功后立即显示封面预览
- **输入验证**: 自动验证视频URL格式

## 故障排除

### 提取失败可能原因
1. **不支持的平台**: 确认平台在支持列表中
2. **链接格式错误**: 检查URL是否完整和正确
3. **网络问题**: 检查网络连接和服务器状态
4. **视频不存在**: 确认视频链接有效且可访问

### 解决方案
1. 检查视频链接是否可以正常播放
2. 尝试使用完整链接而非短链接
3. 如果自动提取失败，可以手动输入封面URL
4. 查看浏览器控制台获取详细错误信息

## 更新说明

- v2.0: 新增自动封面提取功能
- 支持多平台视频封面提取
- 优化用户体验和错误处理
- 集成到管理后台表单中

## 技术架构

```
前端管理页面 → API接口 → 平台识别 → 对应提取器 → 返回封面URL
```

提取过程完全在后端进行，确保安全性和稳定性。